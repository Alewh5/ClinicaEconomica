import{u as V,j as y,r as o,o as S,c,a as e,d as v,k as l,e as A,f as g,l as N,m as k,v as L,b as u,w as b,q as O,F as C,s as P,g as j,h,t as n}from"./index-4e15c3bc.js";import"./sweetalert2.all-4f88cff0.js";import{s as D}from"./vue3-pagination.esm-f16967a4.js";const F={class:"flex items-center text-2xl mb-2 font-semibold text-gray-700"},I={class:"flex-col gap-4 flex items-center justify-center"},T={key:0,class:"w-7 h-7 border-2 ml-2 text-blue-400 text-4xl animate-spin border-gray-300 flex items-center justify-center border-t-blue-400 rounded-full"},H=e("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"0.2em",width:"0.2em",class:"animate-ping"},[e("path",{d:"M12.001 4.8c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624C13.666 10.618 15.027 12 18.001 12c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C16.337 6.182 14.976 4.8 12.001 4.8zm-6 7.2c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624 1.177 1.194 2.538 2.576 5.512 2.576 3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C10.337 13.382 8.976 12 6.001 12z"})],-1),U=[H],$={class:"flex sjustify-between items-center flex-row"},q={class:"flex flex-col sm:flex-row w-full sm:items-center"},E={class:"flex sm:mb-0 mb-1"},R={class:"relative mr-2"},G=e("option",{value:"5"},"5",-1),J=e("option",{value:"10"},"10",-1),K=e("option",{value:"25"},"25",-1),Q=[G,J,K],W=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none"},[e("svg",{class:"fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),X={class:"relative block sm:mt-0 mt-1"},Y=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[e("svg",{viewBox:"0 0 24 24",class:"w-4 h-4 text-gray-500 fill-current"},[e("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})])],-1),Z={class:"flex w-26 flex-col sm:flex-row items-center"},ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-cart-check-fill mr-2 h-4 w-4",viewBox:"0 0 16 16"},[e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708"})],-1),te={class:"flex flex-col mt-6"},se={class:"py-2 overflow-x-auto overflow-y-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},ae={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow rounded"},oe={class:"min-w-full"},re=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-2 text-xs font-bold leading-4 tracking-wider text-left text-white uppercase bg-gray-900 border-b border-gray-200"}," CÃ³digo "),e("th",{class:"px-6 py-2 text-xs font-bold leading-4 tracking-wider text-left text-white uppercase bg-gray-900 border-b border-gray-200"}," Detalles "),e("th",{class:"px-6 py-2 text-xs font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Gasto "),e("th",{class:"px-6 py-2 text-xs font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Total "),e("th",{class:"px-6 py-2 text-xs font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Acciones ")])],-1),le={class:"bg-white"},ne={class:"px-6 py-2 border-b border-gray-200 whitespace-nowrap"},ie={class:"text-sm font-medium leading-5 text-gray-900"},de={class:"px-6 py-2 border-b border-gray-200 whitespace-nowrap"},ce={class:"text-sm font-medium leading-5 text-gray-900"},ue={class:"text-sm leading-5 text-gray-900 whitespace-normal"},he={class:"px-6 py-2 border-b border-gray-200 whitespace-nowrap text-center"},me={class:"text-sm font-medium leading-5 text-gray-900"},pe={class:"text-sm leading-5 text-gray-900 whitespace-normal"},xe={class:"px-6 py-2 border-b border-gray-200 whitespace-nowrap text-center"},ge={class:"text-sm font-medium leading-5 text-gray-900"},be={class:"px-6 py-2 border-b border-gray-200 whitespace-nowrap text-center"},fe={class:"flex items-center justify-center"},_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[e("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),e("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1),we=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"})],-1),ye={class:"mt-2 ml-2"},Be={__name:"Index",setup(ve){const M=V();y.defaults.headers.common.Authorization="Bearer "+M.authToken;const f=o([]),m=o("");let p=o(!1),a=o(),_=o(0),w=o(),r=o(5);const z=async i=>{const s=await y.get(`/sales?page=${i}&per_page=${r.value}&search=${m.value}`);f.value=s.data.data,a.value=s.data.current_page,_.value=s.data.total,p.value=!0,w=Math.ceil(_.value/r.value)},B=()=>{d(1)},d=async i=>{i&&(a.value=i),await z(a.value)};return S(()=>{d(1)}),(i,s)=>{const x=j("router-link");return h(),c(C,null,[e("h3",F,[v(" Listado de Ventas "),e("span",I,[l(p)?A("",!0):(h(),c("span",T,U))])]),e("div",$,[e("div",q,[e("div",E,[e("div",R,[g(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>k(r)?r.value=t:r=t),onChange:s[1]||(s[1]=t=>d(1)),class:"block sm:w-full w-100% px-3 pr-8 py-1 leading-tight text-gray-700 bg-white border border-gray-400 rounded appearance-none focus:outline-none focus:bg-white focus:border-gray-500"},Q,544),[[N,l(r)]]),W])]),e("div",X,[Y,g(e("input",{placeholder:"Buscar...","onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),onInput:B,class:"block w-full py-1 sm:py-1 pl-8 pr-0 sm:pr-10 text-sm text-gray-700 placeholder-gray-400 bg-white border border-gray-400 rounded appearance-none focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"},null,544),[[L,m.value]])])]),e("div",Z,[u(x,{class:"inline-flex items-center w-full sm:mb-0 mb-1 px-2 py-1 ml-2 bg-lime-600 transition ease-in-out delay-75 hover:bg-lime-700 text-white text-sm font-medium rounded-md",to:"/sales/create"},{default:b(()=>[ee,v(" Vender ")]),_:1})])]),g(e("div",te,[e("div",se,[e("div",ae,[e("table",oe,[re,e("tbody",le,[(h(!0),c(C,null,P(f.value,(t,ke)=>(h(),c("tr",{key:t.id},[e("td",ne,[e("div",ie,n(t.codigo),1)]),e("td",de,[e("div",ce,n(t.fechaEmision),1),e("div",ue,n(t.metodoPago),1)]),e("td",he,[e("div",me,n(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(t.impuestos)),1),e("div",pe,n(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(t.subTotal)),1)]),e("td",xe,[e("div",ge,n(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(t.total)),1)]),e("td",be,[e("div",fe,[u(x,{to:{path:"sales/show/"+t.id},class:"text-blue-600 hover:text-blue-700 mr-2"},{default:b(()=>[_e]),_:2},1032,["to"]),u(x,{to:{path:"refunds/sales/"+t.id},class:"text-red-600 hover:text-red-700 mr-2"},{default:b(()=>[we]),_:2},1032,["to"])])])]))),128))])])])]),e("div",ye,[u(l(D),{modelValue:l(a),"onUpdate:modelValue":[s[3]||(s[3]=t=>k(a)?a.value=t:a=t),d],pages:l(w),"range-size":2,"active-color":"#fff"},null,8,["modelValue","pages"])])],512),[[O,l(p)]])],64)}}};export{Be as default};
