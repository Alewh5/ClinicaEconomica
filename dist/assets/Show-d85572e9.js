import{u as k,o as U,r as g,c as n,a as e,b as s,w as M,f as u,v as m,e as v,l as F,F as x,s as H,x as r,k as i,t as p,z as P,g as N,h as c,d as T}from"./index-ca603161.js";import{x as d}from"./index-d159f55b.js";const B={class:"flex justify-between items-center"},D=e("h3",{class:"sm:text-2xl text-lg font-semibold text-gray-700"}," Vista de Factura de Compra ",-1),j={class:"flex flex-col items-start w-26 sm:flex-row sm:items-center"},E=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-box-arrow-left h-4 w-4 mr-2",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"}),e("path",{"fill-rule":"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"})],-1),S={key:0,class:"text-red-600 mt-2"},A={key:1,class:"text-green-600 mt-2"},O={class:"mt-6"},R={class:"px-4 pb-8 pt-5 bg-white shadow-md"},$={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},I={key:0},q=e("label",{class:"text-gray-700",for:"provider_id"},"Proveedor",-1),L={class:"flex mt-2"},Z=e("div",{class:"flex items-center justify-center rounded-tl-lg rounded-bl-lg border-y border-l relative border-gray-400 bg-white p-5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-alphabet-uppercase pointer-events-none absolute w-5 h-5 fill-gray-500 transition",viewBox:"0 0 16 16"},[e("path",{d:"M1.226 10.88H0l2.056-6.26h1.42l2.047 6.26h-1.29l-.48-1.61H1.707l-.48 1.61ZM2.76 5.818h-.054l-.75 2.532H3.51zm3.217 5.062V4.62h2.56c1.09 0 1.808.582 1.808 1.54 0 .762-.444 1.22-1.05 1.372v.055c.736.074 1.365.587 1.365 1.528 0 1.119-.89 1.766-2.133 1.766zM7.18 5.55v1.675h.8c.812 0 1.171-.308 1.171-.853 0-.51-.328-.822-.898-.822zm0 2.537V9.95h.903c.951 0 1.342-.312 1.342-.909 0-.591-.382-.954-1.095-.954zm5.089-.711v.775c0 1.156.49 1.803 1.347 1.803.705 0 1.163-.454 1.212-1.096H16v.12C15.942 10.173 14.95 11 13.607 11c-1.648 0-2.573-1.073-2.573-2.849v-.78c0-1.775.934-2.871 2.573-2.871 1.347 0 2.34.849 2.393 2.087v.115h-1.172c-.05-.665-.516-1.156-1.212-1.156-.849 0-1.347.67-1.347 1.83"})])],-1),G=e("label",{class:"text-gray-700",for:"codigo"},"CÃ³digo",-1),J={class:"flex mt-2"},K=e("div",{class:"flex items-center justify-center rounded-tl-lg rounded-bl-lg border-y border-l relative border-gray-400 bg-white p-5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-alphabet-uppercase pointer-events-none absolute w-5 h-5 fill-gray-500 transition",viewBox:"0 0 16 16"},[e("path",{d:"M1.226 10.88H0l2.056-6.26h1.42l2.047 6.26h-1.29l-.48-1.61H1.707l-.48 1.61ZM2.76 5.818h-.054l-.75 2.532H3.51zm3.217 5.062V4.62h2.56c1.09 0 1.808.582 1.808 1.54 0 .762-.444 1.22-1.05 1.372v.055c.736.074 1.365.587 1.365 1.528 0 1.119-.89 1.766-2.133 1.766zM7.18 5.55v1.675h.8c.812 0 1.171-.308 1.171-.853 0-.51-.328-.822-.898-.822zm0 2.537V9.95h.903c.951 0 1.342-.312 1.342-.909 0-.591-.382-.954-1.095-.954zm5.089-.711v.775c0 1.156.49 1.803 1.347 1.803.705 0 1.163-.454 1.212-1.096H16v.12C15.942 10.173 14.95 11 13.607 11c-1.648 0-2.573-1.073-2.573-2.849v-.78c0-1.775.934-2.871 2.573-2.871 1.347 0 2.34.849 2.393 2.087v.115h-1.172c-.05-.665-.516-1.156-1.212-1.156-.849 0-1.347.67-1.347 1.83"})])],-1),Q=e("label",{class:"text-gray-700",for:"fechaEmision"},"Fecha",-1),W={class:"flex mt-2"},X=e("div",{class:"flex items-center justify-center rounded-tl-lg rounded-bl-lg border-y border-l relative border-gray-400 bg-white p-5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-alphabet-uppercase pointer-events-none absolute w-5 h-5 fill-gray-500 transition",viewBox:"0 0 16 16"},[e("path",{d:"M1.226 10.88H0l2.056-6.26h1.42l2.047 6.26h-1.29l-.48-1.61H1.707l-.48 1.61ZM2.76 5.818h-.054l-.75 2.532H3.51zm3.217 5.062V4.62h2.56c1.09 0 1.808.582 1.808 1.54 0 .762-.444 1.22-1.05 1.372v.055c.736.074 1.365.587 1.365 1.528 0 1.119-.89 1.766-2.133 1.766zM7.18 5.55v1.675h.8c.812 0 1.171-.308 1.171-.853 0-.51-.328-.822-.898-.822zm0 2.537V9.95h.903c.951 0 1.342-.312 1.342-.909 0-.591-.382-.954-1.095-.954zm5.089-.711v.775c0 1.156.49 1.803 1.347 1.803.705 0 1.163-.454 1.212-1.096H16v.12C15.942 10.173 14.95 11 13.607 11c-1.648 0-2.573-1.073-2.573-2.849v-.78c0-1.775.934-2.871 2.573-2.871 1.347 0 2.34.849 2.393 2.087v.115h-1.172c-.05-.665-.516-1.156-1.212-1.156-.849 0-1.347.67-1.347 1.83"})])],-1),Y=e("label",{class:"text-gray-700",for:"metodoPago"},"Metodo de Pago",-1),ee={class:"flex mt-2"},te=e("div",{class:"flex items-center justify-center rounded-tl-lg rounded-bl-lg border-y border-l relative border-gray-400 bg-white p-5"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-check2-square pointer-events-none absolute w-5 h-5 fill-gray-500 transition",viewBox:"0 0 16 16"},[e("path",{d:"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"}),e("path",{d:"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"})])],-1),oe=e("option",{value:"Efectivo"},"Efectivo",-1),le=e("option",{value:"Nequi"},"Nequi",-1),ae=e("option",{value:"Tarjeta"},"Tarjeta",-1),se=e("option",{value:"Credito"},"Credito",-1),re=[oe,le,ae,se],ie={class:"py-2 my-2 overflow-y-auto"},de={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow rounded"},ne={class:"min-w-full overflow-x-auto",style:{"font-size":"0.6rem"}},ce=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-2 font-bold leading-4 tracking-wider text-left text-white uppercase bg-gray-900 border-b border-gray-200"}," Productos "),e("th",{class:"px-1 py-2 w-20 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Cantidad "),e("th",{class:"px-1 py-2 w-28 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Precio Unitario "),e("th",{class:"px-1 py-2 w-20 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Descuento "),e("th",{class:"px-1 py-2 w-28 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Valor Descuento "),e("th",{class:"px-1 py-2 w-24 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Impuestos "),e("th",{class:"px-1 py-2 w-28 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Subtotal "),e("th",{class:"px-1 py-2 w-28 font-bold leading-4 tracking-wider text-center text-white uppercase bg-gray-900 border-b border-gray-200"}," Precio Total ")])],-1),ue={key:0},pe=e("td",{colspan:"8",class:"px-1 py-1 text-center text-red-500"}," Borraste un producto, pendejo. Pero el saldo de la compra seguira existiendo ",-1),be=[pe],me={class:"bg-white"},he={class:"px-1 py-1 border-b border-gray-200"},ge={class:"font-medium text-gray-900"},fe={class:"text-gray-900 whitespace-normal"},ve={class:"px-1 py-1 border-b border-gray-200 text-center"},xe=["onUpdate:modelValue"],ye={class:"px-1 py-1 border-b border-gray-200 text-center"},_e={class:"px-1 py-1 border-b border-gray-200 text-center"},we={class:"px-1 py-1 border-b border-gray-200 text-center"},Ve={class:"px-1 py-1 border-b border-gray-200 text-center"},ze={class:"px-1 py-1 border-b border-gray-200 text-center"},Ce={class:"px-1 py-1 border-b border-gray-200 text-center"},ke=e("td",{colspan:"3",class:"text-right font-semibold px-6 py-2 bg-white"},"Total:",-1),Ue={class:"px-1 py-1 border-b border-gray-200 text-center"},Me={class:"px-1 py-1 border-b border-gray-200 text-center"},Fe={class:"text-center font-semibold px-6 py-2 bg-white"},He={class:"text-center font-semibold px-6 py-2 bg-white"},Pe={class:"text-center font-semibold px-6 py-2 bg-white"},Ne=e("td",null,null,-1),je={__name:"Show",setup(Te){const y=P(),_=k();U(()=>{V()}),axios.defaults.headers.common.Authorization="Bearer "+_.authToken;const o=g({}),f=g(!1),w=g(y.params.id),V=()=>{axios.get("/invoices/"+w.value).then(b=>{o.value=b.data.invoice,f.value=b.data.hasRefunds})},z=()=>o.value.product_invoice?o.value.product_invoice.reduce((l,h)=>l+(parseFloat(h.pivot.precio_total)||0),0)===parseFloat(o.value.total||0):!1;return(b,l)=>{const h=N("router-link");return c(),n(x,null,[e("div",B,[D,e("div",j,[s(h,{class:"inline-flex items-center text-xs mb-1 sm:mb-0 sm:mr-2 w-full px-2 h-8 bg-red-600 transition ease-in-out delay-75 hover:bg-red-700 text-white font-medium rounded-md",to:"/invoices"},{default:M(()=>[E,T(" Regresar ")]),_:1})])]),f.value?(c(),n("div",S," Esta compra tiene devoluciones asociadas. ")):(c(),n("div",A," Esta compra no tiene devoluciones asociadas. ")),e("div",O,[e("div",R,[e("form",null,[e("div",$,[o.value.provider?(c(),n("div",I,[q,e("div",L,[Z,u(e("input",{type:"text",class:"w-full bg-white rounded-r-md pl-2 text-base font-regular outline-0","onUpdate:modelValue":l[0]||(l[0]=t=>o.value.provider.NombreRazonSocial=t),autocomplete:"off",disabled:""},null,512),[[m,o.value.provider.NombreRazonSocial]])])])):v("",!0),e("div",null,[G,e("div",J,[K,u(e("input",{type:"text",class:"w-full bg-white rounded-r-md pl-2 text-base font-regular outline-0","onUpdate:modelValue":l[1]||(l[1]=t=>o.value.codigo=t),autocomplete:"off",disabled:""},null,512),[[m,o.value.codigo]])])]),e("div",null,[Q,e("div",W,[X,u(e("input",{type:"date",class:"w-full bg-white rounded-r-md pl-2 text-base font-regular outline-0","onUpdate:modelValue":l[2]||(l[2]=t=>o.value.fechaEmision=t),autocomplete:"off",disabled:""},null,512),[[m,o.value.fechaEmision]])])]),e("div",null,[Y,e("div",ee,[te,u(e("select",{class:"w-full bg-white rounded-r-md pl-2 text-base font-regular outline-0","onUpdate:modelValue":l[3]||(l[3]=t=>o.value.metodoPago=t),disabled:""},re,512),[[F,o.value.metodoPago]])])])]),e("div",ie,[e("div",de,[e("table",ne,[ce,z()?v("",!0):(c(),n("tr",ue,be)),e("tbody",me,[(c(!0),n(x,null,H(o.value.product_invoice,(t,C)=>(c(),n("tr",{key:C},[e("td",he,[e("div",ge," # "+p(t.codigo),1),e("div",fe,p(t.descripcion),1)]),e("td",ve,[u(e("input",{type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"cantidad","onUpdate:modelValue":a=>t.pivot.cantidad=a,autocomplete:"off",disabled:""},null,8,xe),[[m,t.pivot.cantidad]])]),e("td",ye,[s(i(d),r({type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"precio_unitario",modelValue:t.pivot.precio_unitario,"onUpdate:modelValue":a=>t.pivot.precio_unitario=a,autocomplete:"off"},{prefix:"$ ",decimal:".",separator:",",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])]),e("td",_e,[s(i(d),r({type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"descuento",modelValue:t.pivot.descuento,"onUpdate:modelValue":a=>t.pivot.descuento=a,autocomplete:"off"},{prefix:"% "},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])]),e("td",we,[s(i(d),r({type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"valor_descuento",modelValue:t.pivot.valor_descuento,"onUpdate:modelValue":a=>t.pivot.valor_descuento=a,autocomplete:"off"},{prefix:"$ ",decimal:".",separator:",",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])]),e("td",Ve,[s(i(d),r({type:"text",class:"bg-white rounded w-full h-0 py-3 pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"impuestos",modelValue:t.pivot.impuestos,"onUpdate:modelValue":a=>t.pivot.impuestos=a,autocomplete:"off"},{prefix:"$ ",decimal:".",separator:",",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])]),e("td",ze,[s(i(d),r({type:"text",class:"bg-white rounded w-full h-0 py-3 pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"subtotal",modelValue:t.pivot.subtotal,"onUpdate:modelValue":a=>t.pivot.subtotal=a,autocomplete:"off"},{prefix:"$ ",decimal:".",separator:",",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])]),e("td",Ce,[s(i(d),r({type:"text",class:"bg-white rounded w-full h-0 py-3 pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"precio_total",modelValue:t.pivot.precio_total,"onUpdate:modelValue":a=>t.pivot.precio_total=a,autocomplete:"off"},{prefix:"$ ",decimal:".",separator:",",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue","onUpdate:modelValue"])])]))),128))]),e("tfoot",null,[e("tr",null,[ke,e("td",Ue,[s(i(d),r({type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"",modelValue:o.value.descuento_global,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.descuento_global=t),autocomplete:"off"},{prefix:"% "},{disabled:""}),null,16,["modelValue"])]),e("td",Me,[s(i(d),r({type:"text",class:"bg-white w-full h-0 py-3 rounded pl-2 text-base font-regular outline-0",style:{"font-size":"0.7rem"},id:"",modelValue:o.value.valor_descuentoGlobal,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.valor_descuentoGlobal=t),autocomplete:"off"},{prefix:"$ ",minimumFractionDigits:2},{disabled:""}),null,16,["modelValue"])]),e("td",Fe,p(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(o.value.impuestos)),1),e("td",He,p(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(o.value.subTotal)),1),e("td",Pe,p(Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(o.value.total)),1),Ne])])])])])])])])],64)}}};export{je as default};
