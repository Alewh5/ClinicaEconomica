import{u as m}from"./index-4e15c3bc.js";import{S as u}from"./sweetalert2.all-4f88cff0.js";function l(o,a,t){t!=""?u.fire({title:o,icon:a,showConfirmButton:!1}):u.fire({title:o,icon:a})}async function p(o,a,t,e){if((await u.mixin({buttonsStyling:!0}).fire({title:"¿Estás seguro de eliminar a "+o+" ?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){const n=await h("DELETE",{},a,t);n.status==422?l(n.error,"error",t):!t&&e&&e()}}async function h(o,a,t,e=""){const f=m();axios.defaults.headers.common.Authorization="Bearer "+f.authToken;let r,n,i,c;return await axios({method:o,url:t,data:a}).then(s=>{r=s.status,c=s.data,l(s.data.message,"success",e),setTimeout(()=>e!==""?window.location.href=e:"",2e3)}).catch(s=>{r=s.response.status,n=s.response.data.errors,i=s.response.data.error,!n&&i&&l(i,"error",e)}),{status:r,list_errors:n,error:i,responseData:c}}export{p as c,h as s};
